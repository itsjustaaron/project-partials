{"version":3,"sources":["shopping.js"],"names":["shoppingForm","document","querySelector","list","items","handleSubmit","e","preventDefault","console","log","name","currentTarget","item","value","id","Date","now","complete","push","length","target","reset","dispatchEvent","CustomEvent","displayItems","html","map","join","innerHTML","fileIntoStorage","info","localStorage","setItem","JSON","stringify","retrieveFile","filedItems","parse","getItem","deleteItem","warn","filter","markComplete","itemRef","find","addEventListener","parseInt","matches"],"mappings":"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","file":"shopping.3c459b95.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector('.shopping');\nconst list = document.querySelector('.list');\n\n// we need an array to hold our state\nlet items = [];\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  console.log('submitted!');\n  const name = e.currentTarget.item.value;\n  console.log(name);\n  const item = {\n    name,\n    id: Date.now(),\n    complete: false,\n  };\n  items.push(item);\n  console.log(`There are ${items.length} item(s) in your state.`);\n  e.target.reset();\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nconst displayItems = () => {\n  console.log(items);\n  const html = items\n    .map(\n      item => `<li class=\"shopping-item\">\n  <input\n  type=\"checkbox\"\n  value=\"${item.id}\"\n  ${item.complete ? 'checked' : ''}\n  >\n  <span class=\"itemName\">${item.name}</span>\n  <button aria-label=\"remove ${item.name}\" value=\"${item.id}\">&times;</button>\n  </li>`\n    )\n    .join('');\n  list.innerHTML = html;\n};\n\nfunction fileIntoStorage() {\n  console.info('Saving items to localstorage');\n  localStorage.setItem('items', JSON.stringify(items));\n}\n\nfunction retrieveFile() {\n  console.info('Pulling from storage');\n  const filedItems = JSON.parse(localStorage.getItem('items'));\n  if (filedItems.length) {\n    items.push(...filedItems);\n    list.dispatchEvent(new CustomEvent('itemsUpdated'));\n  }\n}\n\nfunction deleteItem(id) {\n  console.warn('DELETING ITEM', id);\n  items = items.filter(item => item.id !== id);\n  console.log(items);\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nconst markComplete = id => {\n  console.log('marking as complete: ', id);\n  const itemRef = items.find(item => item.id === id);\n  itemRef.complete = !itemRef.complete;\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n};\n\nshoppingForm.addEventListener('submit', handleSubmit);\nlist.addEventListener('itemsUpdated', displayItems);\nlist.addEventListener('itemsUpdated', fileIntoStorage);\n// listen for click on list, delegate to button if it was clicked\nlist.addEventListener('click', e => {\n  const id = parseInt(e.target.value);\n  if (e.target.matches('button')) {\n    deleteItem(id);\n  } else if (e.target.matches('input[type=\"checkbox\"]')) {\n    markComplete(id);\n  }\n});\nretrieveFile();\n"]}